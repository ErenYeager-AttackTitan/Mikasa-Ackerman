<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MikasaTV - Watch Anime & Live TV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="MikasaTV is a fast, safe, and ad-free platform to watch anime and IPTV channels. We only link to third-party sources.">
  <meta name="robots" content="index, follow" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-950 text-white font-sans">

  <!-- Hero Section -->
  <section class="text-center py-16 px-4 bg-gradient-to-b from-purple-900 to-gray-950">
    <h1 class="text-5xl font-extrabold mb-4 text-purple-300">📺 Welcome to MikasaTV</h1>
    <p class="text-lg max-w-3xl mx-auto text-gray-300">
      Enjoy your favorite anime and live TV channels — lightning fast, ad-free, and private. Built for anime lovers, powered by the community.
    </p>
    <img src="https://cdn.jsdelivr.net/gh/ErenYeager-AttackTitan/Mikasa-Ackerman@main/animax.png" alt="Animax" class="w-48 mx-auto mt-8 rounded-xl shadow-lg" />
    <a href="#channels" class="inline-block mt-10 bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg text-lg font-semibold">
      Browse Channels ↓
    </a>
  </section>

  <!-- Features -->
  <section class="py-16 bg-gray-900 px-6">
    <div class="max-w-6xl mx-auto grid md:grid-cols-3 gap-8 text-center">
      <div class="p-6 bg-gray-800 rounded-xl shadow">
        <h3 class="text-xl font-bold mb-3 text-purple-400">⚡ No Buffering</h3>
        <p>High-speed CDN streams for smooth playback on any device.</p>
      </div>
      <div class="p-6 bg-gray-800 rounded-xl shadow">
        <h3 class="text-xl font-bold mb-3 text-purple-400">🛡 Private & Safe</h3>
        <p>No logins, no trackers, no popups. Your privacy is our priority.</p>
      </div>
      <div class="p-6 bg-gray-800 rounded-xl shadow">
        <h3 class="text-xl font-bold mb-3 text-purple-400">📡 Public Streams Only</h3>
        <p>All content is linked from publicly available third-party sources.</p>
      </div>
    </div>
  </section>

  <!-- Channel Grid + Search -->
  <section id="channels" class="py-16 px-6">
    <div class="max-w-4xl mx-auto mb-8 text-center">
      <h2 class="text-3xl font-bold mb-4 text-purple-300">🎮 Choose Your Channel</h2>
      <input
        id="searchInput"
        type="text"
        placeholder="Search by channel name..."
        class="w-full px-4 py-2 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-purple-500"
      />
    </div>

    <div id="channelList" class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-6xl mx-auto"></div>
  </section>

  <!-- Footer with Disclaimer -->
  <footer class="py-10 text-center text-gray-400 bg-gray-950 border-t border-gray-800 text-sm px-4">
    <p class="mb-2">© 2025 MikasaTV — Built with ❤️ by anime lovers. No ads. No bullshit.</p>
    <p class="max-w-2xl mx-auto text-gray-500">
      <strong>Disclaimer:</strong> MikasaTV does <u>not host or stream any media</u> on its own servers.
      All videos are sourced from <u>publicly available third-party websites</u>. We do not claim any ownership of the content and encourage copyright holders to contact the original stream provider for removal.
    </p>
  </footer>

  <!-- JS: Load Channels -->
  <script>
    const jsonUrl = "https://cdn.jsdelivr.net/gh/ErenYeager-AttackTitan/Mikasa-Ackerman@main/playlist.json";
    const searchInput = document.getElementById("searchInput");
    const channelList = document.getElementById("channelList");

    async function loadChannels() {
      const res = await fetch(jsonUrl);
      const { channels } = await res.json();

      function render(list) {
        channelList.innerHTML = "";
        list.forEach(channel => {
          const div = document.createElement("div");
          div.className = "bg-gray-800 hover:bg-purple-700 transition rounded-xl p-4 cursor-pointer text-center shadow";
          div.onclick = () => window.location.href = `/channel.html?id=${channel.id}`;
          div.innerHTML = `
            <img src="${channel.image}" alt="${channel.cname}" class="w-20 h-20 mx-auto object-contain mb-3 rounded shadow" />
            <h2 class="text-lg font-semibold">${channel.cname}</h2>
          `;
          channelList.appendChild(div);
        });
      }

      render(channels);

      searchInput.addEventListener("input", e => {
        const query = e.target.value.toLowerCase();
        const filtered = channels.filter(ch =>
          ch.cname.toLowerCase().includes(query)
        );
        render(filtered);
      });
    }

    loadChannels();
  </script>
</body>
</html>
